<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Artwork Details | RankMyArt</title>
  <link rel="stylesheet" href="/css/header.css">

  <link rel="stylesheet" href="/css/artinfostyle.css">
</head>

<body>
<div id="preloader">
  <div class="loader"></div>
</div>

<div th:replace="~{fragments/header :: header}"></div>

<!-- Main container for the entire page content -->
<main class="page-container">

  <!-- 5. Back Button -->
  <div class="back-button-container">
    <a href="javascript:history.back()" class="back-btn">&larr; Back to Gallery</a>
  </div>

  <!-- 1-3. Main Artwork Info Container -->
  <div class="art-info-container">

    <!-- Image Column -->
    <div class="image-container">
      <div class="bg-image-blur" id="bg-image-blur"></div>

      <img src="https://placehold.co/800x1200/1a1a1a/ffffff?text=Loading..." alt="Artwork Title" id="artwork-image">
    </div>

    <!-- Details Column -->
    <div class="details-container">
      <!-- Uploader Info -->
      <div class="uploader-info">
        <img src="https://i.pravatar.cc/40" alt="Uploader Avatar" class="uploader-avatar" id="uploader-avatar">
        <span class="uploader-name" id="uploader-name"></span>
      </div>

      <!-- Title & Description -->
      <h1 class="artwork-title" id="artwork-title"></h1>
      <p class="artwork-description" id="artwork-description">
      </p>

      <!-- Stats and Actions -->
      <div class="stats-actions">
        <div class="stat-item">
          <img src="/img/upvote-icon.svg" alt="Upvotes">
          <span id="artwork-upvotes"></span>
        </div>
        <div class="stat-item">
          <img src="/img/eye-icon.svg" alt="Views">
          <span id="artwork-views"></span>
        </div>
        <div class="action-buttons">
          <button class="action-btn bookmark-btn">
            <img src="/img/bookmark-icon.svg" alt="Bookmark">
            <span>Save</span>
          </button>
          <button class="action-btn">Share</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 4. Comment Section -->
  <div class="comment-section">
    <h2 id="comment-header-title">Comments</h2>

    <div class="comment-form">
      <img src="https://i.pravatar.cc/40" alt="Your Avatar" class="comment-avatar">
      <textarea id="comment" placeholder="Add a comment..."></textarea>
      <button onclick="submitComment()" class="submit-comment-btn" aria-label="Post comment">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor' class='w-6 h-6'%3E%3Cpath d='M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z' /%3E%3C/svg%3E%0A" alt="Send">
      </button>
    </div>

    <div class="comment-list" id="comment-list-container">
    </div>
  </div>
</main>

<script src="/js/artinfo.js" defer></script>
<script src="/js/auth.js" defer></script>
<script src="/js/comment.js" defer></script>

<script>
  window.addEventListener("load", () => {
    const preloader = document.getElementById("preloader");
    preloader.style.opacity = "0";
    setTimeout(() => {
      preloader.style.display = "none";
    }, 600); // matches the CSS transition
  });
</script>
</body>
</html>
